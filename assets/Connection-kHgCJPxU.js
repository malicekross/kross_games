import{_ as r}from"./hacking-OChcqYaQ.js";import"./modulepreload-polyfill-B5Qt9EMX.js";class a{constructor(t,o){this.from=t,this.to=o,this.timer=0,this.rate=1}update(t,o){if(this.from.value>=1){this.timer+=t;const s=this.from.generationRate/2;this.timer>=1/s&&(this.timer=0,this.from.value--,r(()=>import("./Unit-Bl5zPYm_.js"),[]).then(i=>{const e=i.Unit;o.units.push(new e(this.from.x,this.from.y,this.to,this.from.owner,this.from))}))}}draw(t){t.beginPath(),t.moveTo(this.from.x,this.from.y),t.lineTo(this.to.x,this.to.y);const o=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);o.addColorStop(0,this.from.colors[this.from.owner]),o.addColorStop(1,this.to.colors[this.to.owner]),t.strokeStyle=o,t.lineWidth=3,t.stroke();const i=performance.now()/1e3*50%20;t.setLineDash([5,15]),t.lineDashOffset=-i,t.strokeStyle="rgba(255, 255, 255, 0.5)",t.lineWidth=1,t.stroke(),t.setLineDash([])}}export{a as Connection};
